<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="theme-color" content="#9552ef"><meta content="initial-scale=1, minimum-scale=1.0, width=device-width" name="viewport"><meta name="description" content=""><title>Soy Components - Metal.js</title><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700|Roboto+Mono"><!-- inject:css --><link rel="stylesheet" href="/vendor/galano/galano.css"><link rel="stylesheet" href="/vendor/icon-12/icon-12.css"><link rel="stylesheet" href="/vendor/senna/senna.css"><link rel="stylesheet" href="/vendor/icon-16/icon-16.css"><link rel="stylesheet" href="/vendor/codemirror/lib/codemirror.css"><link rel="stylesheet" href="/vendor/codemirror/theme/material.css"><!-- endinject --><!-- inject:js --><script src="/js/bundles/shared.electric.js"></script><script src="/vendor/senna/senna.js"></script><script src="/vendor/codemirror/lib/codemirror.js"></script><script src="/vendor/codemirror/mode/javascript/javascript.js"></script><script src="/vendor/codemirror/mode/jsx/jsx.js"></script><script src="/vendor/codemirror/mode/shell/shell.js"></script><script src="/vendor/codemirror/mode/soy/soy.js"></script><script src="/vendor/codemirror/mode/xml/xml.js"></script><!-- endinject --><link rel="shortcut icon" href="/images/favicon.ico"><link rel="stylesheet" href="/styles/main.css"></head><body data-senna><div data-senna-surface id="wrapper"><div class="senna-loading-bar"></div><!-- inject:metal:js --><div id="pageComponent"><div class="main"><main class="guide"><div class="docs"><nav class="topbar  topbar-docs"><div class="topbar-logo"><a class="topbar-logo-link" href="/"><img class="topbar-logo-image" src="/images/logo_signature@2x.png" alt="Metal.js Home"><span class="topbar-logo-text">Metal.js</span></a></div><ul class="topbar-list"><li class="topbar-item active"><a class="topbar-link" href="/docs/"><span>Documentation</span></a></li></ul><ul class="topbar-list"><li class="topbar-item"><a class="topbar-icon" target="_blank" href="https://github.com/metal/metal"><span class="icon-16-github"></span></a></li><li class="topbar-item"><a class="topbar-icon" target="_blank" href="http://metaljs-chat.wedeploy.io/"><span class="icon-16-hash"></span></a></li></ul></nav><nav class="sidebar"><a class="sidebar-header toggler-header-collapsed"><span class="sidebar-icon icon-16-menu"></span><span>Docs Menu</span><span class="sidebar-icon-right"><span class="icon-12-arrow-down-short"></span><span class="icon-12-arrow-up-short"></span></span></a><div class="sidebar-toggler-content toggler-collapsed"><div class="sidebar-search"><div class="page-autocomplete"><div class="form-group"><div class="input-inner-addon input-inner-addon-right"><input autocomplete="off" class="form-control" name="q" placeholder="Search Docs" ref="input" required type="text" ><span class="input-inner-icon-helper icon-16-magnifier"></span></div></div></div></div><ul class="sidebar-list sidebar-list-1"><li class="sidebar-item"><a class="sidebar-link " href="/docs/getting-started/"><span class="sidebar-icon icon-16-flash"></span><span>Quick Start</span></a><ul class="sidebar-list sidebar-list-1"><li class="sidebar-item"><a class="sidebar-link " href="/docs/getting-started/modal.html"><span>Tutorial: Modal</span></a></li><li class="sidebar-item"><a class="sidebar-link " href="/docs/getting-started/modal_events.html"><span>Tutorial: Modal - Events</span></a></li><li class="sidebar-item"><a class="sidebar-link " href="/docs/getting-started/modal_updates.html"><span>Tutorial: Modal - Updates</span></a></li><li class="sidebar-item"><a class="sidebar-link " href="/docs/getting-started/modal_nested.html"><span>Tutorial: Modal - Nested Components</span></a></li><li class="sidebar-item"><a class="sidebar-link " href="/docs/getting-started/modal_testing.html"><span>Tutorial: Modal - Testing</span></a></li></ul></li><li class="sidebar-item active"><a class="sidebar-link sidebar-link-selected" href="/docs/guides/alias.html"><span class="sidebar-icon icon-16-streams"></span><span>Guides</span></a><ul class="sidebar-list sidebar-list-1"><li class="sidebar-item"><a class="sidebar-link " href="/docs/guides/alias.html"><span>Alias</span></a></li><li class="sidebar-item"><a class="sidebar-link " href="/docs/guides/state.html"><span>State</span></a></li><li class="sidebar-item"><a class="sidebar-link " href="/docs/guides/component-lifecycle.html"><span>Component Lifecycle</span></a></li><li class="sidebar-item"><a class="sidebar-link " href="/docs/guides/rendering-components.html"><span>Rendering Components</span></a></li><li class="sidebar-item"><a class="sidebar-link " href="/docs/guides/inline-events.html"><span>Inline Events</span></a></li><li class="sidebar-item"><a class="sidebar-link " href="/docs/guides/nested-components.html"><span>Nested Components</span></a></li><li class="sidebar-item"><a class="sidebar-link " href="/docs/guides/importing.html"><span>Importing a Third Party Component</span></a></li><li class="sidebar-item active"><a class="sidebar-link sidebar-link-selected" href="/docs/guides/soy-components.html"><span>Soy Components</span></a></li><li class="sidebar-item"><a class="sidebar-link " href="/docs/guides/jsx-components.html"><span>JSX Components</span></a></li><li class="sidebar-item"><a class="sidebar-link " href="/docs/guides/progressive-enhancement.html"><span>Progressive Enhancement</span></a></li><li class="sidebar-item"><a class="sidebar-link " href="/docs/guides/yeoman-generator.html"><span>Yeoman Generator</span></a></li><li class="sidebar-item"><a class="sidebar-link " href="/docs/guides/building.html"><span>Building</span></a></li><li class="sidebar-item"><a class="sidebar-link " href="/docs/guides/performance.html"><span>Performance</span></a></li></ul></li></ul></div></nav><div class="sidebar-offset"><header class="guide-header"><div class="container-hybrid"><h1 class="title">Soy Components</h1></div></header><div class="container-hybrid"><div class="docs-guide row"><div class="docs-content col-xs-16 col-md-9"><div class="guide-content"><article><p>For a full tutorial on how to build components using Soy templates, make sure to follow the <a href="/docs/getting-started/modal.html">Modal tutorial</a> section.</p><p>This guide will explain some details about the integration between <strong>Metal.js</strong> components and <a href="http://developers.google.com/closure/templates/">Soy templates</a>.</p><p>Note that <strong>Metal.js</strong> is template agnostic, so it's not necessary to use Soy at all. That said, we already provide a very good integration between Metal.js components and Soy, so if you like this template language you should give it a try.</p></article><article id="soy_register"><h2><a href="#soy_register">Soy.register</a></h2><p>The only thing you need to do to use Soy templates in your <strong>Metal.js</strong> component is to call <code>Soy.register</code>, passing it your component class and the Soy templates you're going to use, like this:</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">import templates from &#39;./MyComponent.soy&#39;;
import Component from &#39;metal-component&#39;;
import Soy from &#39;metal-soy&#39;;

class MyComponent extends Component {
}

Soy.register(MyComponent, templates);

export default MyComponent;</code></pre></div><p>By default, <strong>Metal.js</strong> will use the Soy template called <strong>render</strong> as the entry point for rendering. But you can tell us to use a different one if you prefer by passing the name as the last param to the <code>Soy.register</code> call, like this:</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">Soy.register(MyComponent, templates, &#39;templateName&#39;);</code></pre></div></article><article id="template_file"><h2><a href="#template_file">Template File</a></h2><p>Make sure that your Soy file has the entry point template (<strong>render</strong> by default), otherwise nothing will be rendered.</p><p>This main template will receive as data a combination of:</p><ul><li><a href="/docs/guides/state.html">State data</a></li><li><a href="/docs/guides/state.html#configuring_state">Configuration data</a> (accessed through <code>this.config</code>)</li><li><a href="/docs/guides/inline-events.html#inline_listeners_via_function_reference">Component functions</a></li></ul><p>Note that by default all params declared on the component's main Soy template are automatically configured as state properties as well, but without any special configurations (like initial value or validators). If they're <a href="/docs/guides/state.html">manually defined</a> through the <code>STATE</code> property they will retain the setup specified there though.</p><p>Any params passed to the component but not directly declared on its main Soy template will be treated as basic configuration data, meaning that changes to them will not automatically rerender the component. They can still be passed down to other templates using <code>data=&quot;all&quot;</code>, as well be accessed via the<code>config</code> property in the JavaScript file.</p><div class="code-container"><button class="btn btn-sm btn-copy"><span class="icon-12-overlap"></span></button><pre><code class="code" data-mode="javascript" ref="code">// Contains all the data received by the component.
this.config</code></pre></div></article><article id="soy_compilation"><h2><a href="#soy_compilation">Soy Compilation</a></h2><p>For the integration between <strong>Metal.js</strong> and <strong>soy</strong> to work, the Soy files need to be compiled via one of our available build tools. That's because they don't just compile the code, but also add some information that help with the integration (like export declarations).</p><p>The available build tools that correctly compile Soy for <strong>Metal.js</strong> are:</p><ul><li><a href="http://npmjs.com/package/gulp-metal">gulp-metal</a> (already included when creating project via <a href="/docs/guides/yeoman-generator.html">generator-metal</a>).</li><li><a href="http://npmjs.com/package/metal-cli">metal-cli</a></li><li><a href="http://npmjs.com/package/metal-tools-soy">metal-tools-soy</a></li></ul></article><input type="hidden" value="Soy Components"><input type="hidden" value="Metal.js"></div><div class="contribute"><div class="contribute-img"><span class="icon-16-github"></span></div><div class="contribute-text"><p>Contribute on Github! <a href="https://github.com/metal/metaljs.com/tree/master/src/pages/docs/guides/soy-components.md" class="contribute-link" target="_blank">Edit this section</a>.</p></div></div></div><nav class="col-xs-16 col-md-offset-2 col-md-5"><div class="docs-nav-container"><div class="affix-top docs-nav"><div ref="readingContainer"></div></div></div></nav></div></div></div></div></main></div></div><script src="/js/bundles/JtHmW.js"></script><script>var data = JSON.parse('{\x22pageLocation\x22:\x22index.children.docs.children.guides.children.soy-components\x22,\x22site\x22:{\x22title\x22:\x22Metal.js\x22,\x22githubRepo\x22:\x22metal\/metaljs.com\x22,\x22googleAnalytics\x22:\x22UA-37033501-7\x22,\x22index\x22:{\x22title\x22:\x22Metal.js\x22,\x22description\x22:\x22Build UI components in a solid, flexible way.\x22,\x22srcFilePath\x22:\x22src\/pages\/index.soy\x22,\x22id\x22:\x22pages\x22,\x22url\x22:\x22\/.\/\x22,\x22children\x22:{\x22docs\x22:{\x22title\x22:\x22Documentation\x22,\x22description\x22:\x22Everything you need to know to get started.\x22,\x22srcFilePath\x22:\x22src\/pages\/docs\/index.soy\x22,\x22id\x22:\x22docs\x22,\x22url\x22:\x22\/docs\/\x22,\x22children\x22:{\x22search\x22:{\x22title\x22:\x22Search\x22,\x22description\x22:\x22Find what you\x27re looking for in the documentation.\x22,\x22hidden\x22:true,\x22srcFilePath\x22:\x22src\/pages\/docs\/search.soy\x22,\x22id\x22:\x22search\x22,\x22url\x22:\x22\/docs\/search.html\x22},\x22getting-started\x22:{\x22title\x22:\x22Quick Start\x22,\x22description\x22:\x22\x22,\x22layout\x22:\x22guide\x22,\x22icon\x22:\x22flash\x22,\x22weight\x22:1,\x22srcFilePath\x22:\x22src\/pages\/docs\/getting-started\/index.md\x22,\x22id\x22:\x22getting-started\x22,\x22url\x22:\x22\/docs\/getting-started\/\x22,\x22children\x22:{\x22modal\x22:{\x22title\x22:\x22Tutorial: Modal\x22,\x22description\x22:\x22\x22,\x22layout\x22:\x22guide\x22,\x22weight\x22:100,\x22srcFilePath\x22:\x22src\/pages\/docs\/getting-started\/modal.md\x22,\x22id\x22:\x22modal\x22,\x22url\x22:\x22\/docs\/getting-started\/modal.html\x22},\x22modal_events\x22:{\x22title\x22:\x22Tutorial: Modal - Events\x22,\x22description\x22:\x22\x22,\x22layout\x22:\x22guide\x22,\x22weight\x22:200,\x22srcFilePath\x22:\x22src\/pages\/docs\/getting-started\/modal_events.md\x22,\x22id\x22:\x22modal_events\x22,\x22url\x22:\x22\/docs\/getting-started\/modal_events.html\x22},\x22modal_nested\x22:{\x22title\x22:\x22Tutorial: Modal - Nested Components\x22,\x22description\x22:\x22\x22,\x22layout\x22:\x22guide\x22,\x22weight\x22:400,\x22srcFilePath\x22:\x22src\/pages\/docs\/getting-started\/modal_nested.md\x22,\x22id\x22:\x22modal_nested\x22,\x22url\x22:\x22\/docs\/getting-started\/modal_nested.html\x22},\x22modal_testing\x22:{\x22title\x22:\x22Tutorial: Modal - Testing\x22,\x22description\x22:\x22\x22,\x22layout\x22:\x22guide\x22,\x22weight\x22:500,\x22srcFilePath\x22:\x22src\/pages\/docs\/getting-started\/modal_testing.md\x22,\x22id\x22:\x22modal_testing\x22,\x22url\x22:\x22\/docs\/getting-started\/modal_testing.html\x22},\x22modal_updates\x22:{\x22title\x22:\x22Tutorial: Modal - Updates\x22,\x22description\x22:\x22\x22,\x22layout\x22:\x22guide\x22,\x22weight\x22:300,\x22srcFilePath\x22:\x22src\/pages\/docs\/getting-started\/modal_updates.md\x22,\x22id\x22:\x22modal_updates\x22,\x22url\x22:\x22\/docs\/getting-started\/modal_updates.html\x22}},\x22childIds\x22:[\x22modal\x22,\x22modal_events\x22,\x22modal_updates\x22,\x22modal_nested\x22,\x22modal_testing\x22]},\x22guides\x22:{\x22children\x22:{\x22alias\x22:{\x22title\x22:\x22Alias\x22,\x22description\x22:\x22\x22,\x22layout\x22:\x22guide\x22,\x22weight\x22:100,\x22srcFilePath\x22:\x22src\/pages\/docs\/guides\/alias.md\x22,\x22id\x22:\x22alias\x22,\x22url\x22:\x22\/docs\/guides\/alias.html\x22},\x22building\x22:{\x22title\x22:\x22Building\x22,\x22description\x22:\x22\x22,\x22layout\x22:\x22guide\x22,\x22weight\x22:220,\x22srcFilePath\x22:\x22src\/pages\/docs\/guides\/building.md\x22,\x22id\x22:\x22building\x22,\x22url\x22:\x22\/docs\/guides\/building.html\x22},\x22component-lifecycle\x22:{\x22title\x22:\x22Component Lifecycle\x22,\x22description\x22:\x22\x22,\x22layout\x22:\x22guide\x22,\x22weight\x22:130,\x22srcFilePath\x22:\x22src\/pages\/docs\/guides\/component-lifecycle.md\x22,\x22id\x22:\x22component-lifecycle\x22,\x22url\x22:\x22\/docs\/guides\/component-lifecycle.html\x22},\x22importing\x22:{\x22title\x22:\x22Importing a Third Party Component\x22,\x22description\x22:\x22\x22,\x22layout\x22:\x22guide\x22,\x22weight\x22:170,\x22srcFilePath\x22:\x22src\/pages\/docs\/guides\/importing.md\x22,\x22id\x22:\x22importing\x22,\x22url\x22:\x22\/docs\/guides\/importing.html\x22},\x22inline-events\x22:{\x22title\x22:\x22Inline Events\x22,\x22description\x22:\x22\x22,\x22layout\x22:\x22guide\x22,\x22weight\x22:150,\x22srcFilePath\x22:\x22src\/pages\/docs\/guides\/inline-events.md\x22,\x22id\x22:\x22inline-events\x22,\x22url\x22:\x22\/docs\/guides\/inline-events.html\x22},\x22jsx-components\x22:{\x22title\x22:\x22JSX Components\x22,\x22description\x22:\x22\x22,\x22layout\x22:\x22guide\x22,\x22weight\x22:190,\x22srcFilePath\x22:\x22src\/pages\/docs\/guides\/jsx-components.md\x22,\x22id\x22:\x22jsx-components\x22,\x22url\x22:\x22\/docs\/guides\/jsx-components.html\x22},\x22nested-components\x22:{\x22title\x22:\x22Nested Components\x22,\x22description\x22:\x22\x22,\x22layout\x22:\x22guide\x22,\x22weight\x22:160,\x22srcFilePath\x22:\x22src\/pages\/docs\/guides\/nested-components.md\x22,\x22id\x22:\x22nested-components\x22,\x22url\x22:\x22\/docs\/guides\/nested-components.html\x22},\x22performance\x22:{\x22title\x22:\x22Performance\x22,\x22description\x22:\x22\x22,\x22layout\x22:\x22guide\x22,\x22weight\x22:230,\x22srcFilePath\x22:\x22src\/pages\/docs\/guides\/performance.md\x22,\x22id\x22:\x22performance\x22,\x22url\x22:\x22\/docs\/guides\/performance.html\x22},\x22progressive-enhancement\x22:{\x22title\x22:\x22Progressive Enhancement\x22,\x22description\x22:\x22\x22,\x22layout\x22:\x22guide\x22,\x22weight\x22:200,\x22srcFilePath\x22:\x22src\/pages\/docs\/guides\/progressive-enhancement.md\x22,\x22id\x22:\x22progressive-enhancement\x22,\x22url\x22:\x22\/docs\/guides\/progressive-enhancement.html\x22},\x22rendering-components\x22:{\x22title\x22:\x22Rendering Components\x22,\x22description\x22:\x22\x22,\x22layout\x22:\x22guide\x22,\x22weight\x22:140,\x22srcFilePath\x22:\x22src\/pages\/docs\/guides\/rendering-components.md\x22,\x22id\x22:\x22rendering-components\x22,\x22url\x22:\x22\/docs\/guides\/rendering-components.html\x22},\x22soy-components\x22:{\x22title\x22:\x22Soy Components\x22,\x22description\x22:\x22\x22,\x22layout\x22:\x22guide\x22,\x22weight\x22:180,\x22srcFilePath\x22:\x22src\/pages\/docs\/guides\/soy-components.md\x22,\x22id\x22:\x22soy-components\x22,\x22url\x22:\x22\/docs\/guides\/soy-components.html\x22,\x22active\x22:true},\x22state\x22:{\x22title\x22:\x22State\x22,\x22description\x22:\x22\x22,\x22layout\x22:\x22guide\x22,\x22weight\x22:110,\x22srcFilePath\x22:\x22src\/pages\/docs\/guides\/state.md\x22,\x22id\x22:\x22state\x22,\x22url\x22:\x22\/docs\/guides\/state.html\x22},\x22yeoman-generator\x22:{\x22title\x22:\x22Yeoman Generator\x22,\x22description\x22:\x22\x22,\x22layout\x22:\x22guide\x22,\x22weight\x22:210,\x22srcFilePath\x22:\x22src\/pages\/docs\/guides\/yeoman-generator.md\x22,\x22id\x22:\x22yeoman-generator\x22,\x22url\x22:\x22\/docs\/guides\/yeoman-generator.html\x22}},\x22title\x22:\x22Guides\x22,\x22url\x22:\x22\/docs\/guides\/alias.html\x22,\x22icon\x22:\x22streams\x22,\x22weight\x22:2,\x22srcFilePath\x22:\x22src\/pages\/docs\/guides\/index.soy\x22,\x22id\x22:\x22guides\x22,\x22location\x22:\x22\/docs\/guides\/\x22,\x22childIds\x22:[\x22alias\x22,\x22state\x22,\x22component-lifecycle\x22,\x22rendering-components\x22,\x22inline-events\x22,\x22nested-components\x22,\x22importing\x22,\x22soy-components\x22,\x22jsx-components\x22,\x22progressive-enhancement\x22,\x22yeoman-generator\x22,\x22building\x22,\x22performance\x22],\x22active\x22:true}},\x22childIds\x22:[\x22getting-started\x22,\x22guides\x22,\x22search\x22],\x22active\x22:true}},\x22childIds\x22:[\x22docs\x22]}}}'); if (window.electricPageComponent) {window.electricPageComponent.dispose();}var getByPath = function(obj, path) {path = path.split('.'); for (var i = 0; i < path.length; i++) {obj = obj[path[i]];}; return obj;}; if (window.pageComponent) {var page = getByPath(data.site, data.pageLocation); if (page) {window.electricPageComponent = pageComponent.default.render(pageComponent.default, {element: '#pageComponent', page: page, site: data.site});}if (window.runCodeMirror) {runCodeMirror();}}</script><!-- endinject --></div><!-- inject:vendor:js --><script>CodeMirror.defaults.lineNumbers = true; CodeMirror.defaults.matchBrackets = true; CodeMirror.defaults.readOnly = true; CodeMirror.defaults.tabindex = -1; CodeMirror.defaults.tabSize = 2; CodeMirror.defaults.theme = 'material'; CodeMirror.defaults.viewportMargin = Infinity; var REGEX_LB = /&#123;/g; var REGEX_RB = /&#125;/g; function runCodeMirror() {var code = document.querySelectorAll('.code'); for (var i = 0; i < code.length; i++) {var text = code[i].innerText .replace(REGEX_LB, '{') .replace(REGEX_RB, '}'); var editor = CodeMirror(function(elt) {var preEl = code[i].parentNode; preEl.parentNode.appendChild(elt);}, {mode: code[i].getAttribute('data-mode') || '', value: text});}if (window.ElectricCodeTabs) {new window.ElectricCodeTabs();}}runCodeMirror(); function runGoogleAnalytics(path) {if (typeof ga === 'function') {ga('set', 'page', path); ga('send', 'pageview');}}document.addEventListener('DOMContentLoaded', function() {if (typeof senna !== 'undefined') {var app = senna.dataAttributeHandler.getApp(); app.on('endNavigate', function(event) {runGoogleAnalytics(event.path);});}}); (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-37033501-7', 'auto'); ga('send', 'pageview');</script><!-- endinject --></body></html>